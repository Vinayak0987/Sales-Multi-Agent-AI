graph TD
    %% Agents with more detailed descriptions
    LeadResearch["Lead Research Agent<br><small>• Behavioral pattern analysis<br>• Lead segmentation<br>• Output: Insights & recommendations</small>"]
    
    IntentQualifier["Intent Qualifier Agent<br><small>• Evaluates engagement patterns<br>• Contextual intent analysis<br>• Output: Intent profile & action items</small>"]
    
    EmailStrategy["Email Strategy Agent<br><small>• Personalized content creation<br>• Success pattern adoption<br>• Output: Tailored communication</small>"]
    
    FollowupTiming["Followup Timing Agent<br><small>• Response pattern analysis<br>• Engagement timing optimization<br>• Output: Strategic timing plan</small>"]
    
    CRMLogger["CRM Logger Agent<br><small>• Records interactions & calculates metrics<br>• Identifies success patterns for agents</small>"]
    
    %% Common workflow indicator
    subgraph LangGraphWorkflow[" "]
        style LangGraphWorkflow fill:none,stroke:none
        PrepareData["prepare_data"] --> AnalyzePatterns["analyze_patterns"] --> GenerateInsights["generate_insights (LLM)"]
    end
    
    %% Connect workflow to each agent
    LangGraphWorkflow -.- LeadResearch
    LangGraphWorkflow -.- IntentQualifier
    LangGraphWorkflow -.- EmailStrategy
    LangGraphWorkflow -.- FollowupTiming
    LangGraphWorkflow -.- CRMLogger
    
    %% Primary connections
    LeadResearch --> |"Insights"| EmailStrategy
    IntentQualifier --> |"Intent data"| EmailStrategy
    EmailStrategy --> |"Email content"| FollowupTiming
    
    %% Connections to CRM
    EmailStrategy --> |"Events"| CRMLogger
    FollowupTiming --> |"Events"| CRMLogger
    LeadResearch --> |"Events"| CRMLogger
    IntentQualifier --> |"Events"| CRMLogger
    
    %% Feedback loops
    CRMLogger -.-> |"Success patterns"| LeadResearch
    CRMLogger -.-> |"Success patterns"| IntentQualifier
    CRMLogger -.-> |"Success patterns"| EmailStrategy
    CRMLogger -.-> |"Success patterns"| FollowupTiming
    
    %% Style classes
    classDef leadAgent fill:#f6ffed,stroke:#52c41a,stroke-width:2px;
    classDef intentAgent fill:#fff7e6,stroke:#fa8c16,stroke-width:2px;
    classDef emailAgent fill:#f0f5ff,stroke:#2f54eb,stroke-width:2px;
    classDef followupAgent fill:#fff0f6,stroke:#eb2f96,stroke-width:2px;
    classDef crmAgent fill:#f9f0ff,stroke:#722ed1,stroke-width:2px;
    classDef workflowStep fill:#f5f5f5,stroke:#d9d9d9,stroke-width:1px;
    
    %% Apply styles
    class LeadResearch leadAgent;
    class IntentQualifier intentAgent;
    class EmailStrategy emailAgent;
    class FollowupTiming followupAgent;
    class CRMLogger crmAgent;
    class PrepareData,AnalyzePatterns,GenerateInsights workflowStep;




graph TD
    %% Agents
    LeadResearch["Lead Research Agent<br><small>• Behavioral pattern analysis<br>• Lead segmentation<br>• Output: Insights & recommendations</small>"]
    
    IntentQualifier["Intent Qualifier Agent<br><small>• Evaluates engagement patterns<br>• Contextual intent analysis<br>• Output: Intent profile & action items</small>"]
    
    EmailStrategy["Email Strategy Agent<br><small>• Personalized content creation<br>• Success pattern adoption<br>• Output: Tailored communication</small>"]
    
    FollowupTiming["Followup Timing Agent<br><small>• Response pattern analysis<br>• Engagement timing optimization<br>• Output: Strategic timing plan</small>"]
    
    CRMLogger["CRM Logger Agent<br><small>• Records interactions & calculates metrics<br>• Identifies success patterns for agents</small>"]
    
    %% Connections between agents
    LeadResearch --> EmailStrategy
    IntentQualifier --> EmailStrategy
    EmailStrategy --> FollowupTiming
    
    %% All agents connect to CRM Logger
    EmailStrategy --> CRMLogger
    FollowupTiming --> CRMLogger
    
    %% Style classes
    classDef leadAgent fill:#f6ffed,stroke:#52c41a,stroke-width:2px;
    classDef intentAgent fill:#fff7e6,stroke:#fa8c16,stroke-width:2px;
    classDef emailAgent fill:#f0f5ff,stroke:#2f54eb,stroke-width:2px;
    classDef followupAgent fill:#fff0f6,stroke:#eb2f96,stroke-width:2px;
    classDef crmAgent fill:#f9f0ff,stroke:#722ed1,stroke-width:2px;
    
    %% Apply styles
    class LeadResearch leadAgent;
    class IntentQualifier intentAgent;
    class EmailStrategy emailAgent;
    class FollowupTiming followupAgent;
    class CRMLogger crmAgent;